{"version":3,"sources":["components/commons/ne.js"],"names":["stopword","require","_","request","module","exports","apiurl","str","resolve","reject","uri","method","headers","json","text","error","response","body","statusCode","result","difference","data","message","errMessage"],"mappings":";;;;;;;;AAAA;;;;;;;;AAQA,IAAIA,WAAWC,QAAQ,YAAR,GAAf;AACA,IAAIC,IAAID,QAAQ,QAAR,CAAR;AACA,IAAIE,UAAUF,QAAQ,SAAR,CAAd;AACA;;;AAGAG,OAAOC,OAAP,GAAiB,UAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AACvC;;AAEA,QAAO,sBAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvCN,UAAQ;AACPO,QAAKJ,SAAS,YADP;AAEPK,WAAO,MAFA;AAGPC,YAAS;AACR,oBAAgB,kBADR;AAER,eAAW;AAFH,IAHF;AAOPC,SAAM,EAACC,MAAMP,GAAP;AAPC,GAAR,EAQG,UAAUQ,KAAV,EAAiBC,QAAjB,EAA2BC,IAA3B,EAAiC;AACnC,OAAI,CAACF,KAAD,IAAUC,SAASE,UAAT,IAAuB,GAArC,EAA0C;AACzC,QAAID,KAAKE,MAAL,IAAe,SAAnB,EAA8B;AAC7B,YAAOX,QAAQN,EAAEkB,UAAF,CAAaH,KAAKI,IAAlB,EAAwBrB,QAAxB,CAAR,CAAP;AACA;AACA,KAHD,MAGO;AACN,YAAOS,OAAO,EAACa,SAASL,KAAKK,OAAf,EAAwBC,YAAYN,KAAKM,UAAzC,EAAP,CAAP;AACA;AACD;AACD,GAjBD;AAkBA,EAnBM,CAAP;AAoBA,CAvBD","file":"ne.js","sourcesContent":["/**\r\n * 색인어 추출기 library 사용을 위한 유틸\r\n * 색인어 추출기 라이브러리\r\n * Java service로 변경 (2019.01.03)\r\n *\r\n * @author Saebyeok Lee\r\n * @author Chanwoo Kwon\r\n */\r\nvar stopword = require('./stopword')();\r\nvar _ = require('lodash');\r\nvar request = require('request');\r\n/**\r\n * @param str      // 색인어를 추출할 입력 문자열  String\r\n */\r\nmodule.exports = function (apiurl, str) {\r\n\t\"use strict\";\r\n\t\r\n\treturn new Promise((resolve, reject) => {\r\n\t\trequest({\r\n\t\t\turi: apiurl + '/token.dox',\r\n\t\t\tmethod:'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'charset': 'utf-8'\r\n\t\t\t},\r\n\t\t\tjson: {text: str}\r\n\t\t}, function (error, response, body) {\r\n\t\t\tif (!error && response.statusCode == 200) {\r\n\t\t\t\tif (body.result == 'success') {\r\n\t\t\t\t\treturn resolve(_.difference(body.data, stopword));\r\n\t\t\t\t\t//return resolve(body.data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn reject({message: body.message, errMessage: body.errMessage});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n};"]}